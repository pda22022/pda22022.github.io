<html>
<head>
  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-physics-system@4.0.1/dist/aframe-physics-system.min.js"></script>

  <style>
    h1 { text-align: center; }
    h3 { text-align: center; }
    a-scene { width: 50%; height: 50%; border: dotted red 3px; }
  </style>
</head>

<body>
  <h1>ΤΙΤΛΟΣ ΕΡΓΑΣΙΑΣ</h1>
  <h3>Ονοματεπώνυμο</h3>
  <hr />
  <p><strong>Σενάριο:</strong>...</p>
  <hr />

  <div align="center">
    <a-scene physics="gravity: -9.8" embedded background="color:PowderBlue" ondblclick="this.requestFullscreen();">
      
      <!-- Κάμερα με φυσική -->
      <a-entity id="rig" position="0 1.6 0" dynamic-body="shape: capsule; mass: 5">
        <a-camera wasd-controls="acceleration: 20">
          <a-cursor fuse="true" fuse-timeout="5000"></a-cursor>
        </a-camera>
      </a-entity>

      <!-- Φωτισμός -->
      <a-sphere radius="500" position="0 5000 0" material="fog: false"></a-sphere>
      <a-entity position="0 250 0" 
                light="type: directional; intensity: 0.5; castShadow: true;
                shadowCameraBottom: -500; shadowCameraTop: 500; 
                shadowCameraLeft: -500; shadowCameraRight: 500">
      </a-entity>
      <a-light type="ambient" intensity="0.25"></a-light>

      <!-- Έδαφος -->
      <a-plane color="PaleGoldenrod" static-body="shape: box" height="1000" width="1000" rotation="-90 0 0"></a-plane>

      <!-- Assets -->
      <a-assets>
        <a-asset-item id="bank" src="western_bank.glb"></a-asset-item>
        <a-asset-item id="watertower" src="western_watertower.glb"></a-asset-item>
        <a-asset-item id="church"  src="western_church.glb"></a-asset-item>
        <a-asset-item id="tree"  src="tree.glb"></a-asset-item>
        <a-asset-item id="building" src="western_building.glb"></a-asset-item>
        <a-asset-item id="tobacco" src="western_tobacco.glb"></a-asset-item>
        <a-asset-item id="cowboy" src="cowboy.glb"></a-asset-item>
      </a-assets>

      <!-- Αντικείμενα με glTF -->
      <a-entity gltf-model="#bank" scale="2 2 2" position="-1 -0.4 -20"></a-entity>
      <a-entity gltf-model="#tobacco" scale="2 2 2" position="-20 -0.4 -20"></a-entity>
      <a-entity gltf-model="#watertower" scale="2 3 2" position="25 57 -20"></a-entity>
      <a-entity gltf-model="#church" scale="2 2 2" position="-60 0.6 20" rotation="0 -180 0"></a-entity>
      <a-entity gltf-model="#building" scale="35 35 35" position="-15 0.4 20" rotation="0 -180 0"></a-entity>
      <a-entity gltf-model="#cowboy" position="0 0 -5" scale="1 1 1"></a-entity>

      <!-- INVISIBLE COLLIDERS -->
      <a-box position="-1 2 -20" width="10" height="5" depth="10" static-body visible="false"></a-box>        <!-- bank -->
      <a-box position="-20 2 -20" width="10" height="5" depth="10" static-body visible="false"></a-box>      <!-- tobacco -->
      <a-box position="25 58 -20" width="10" height="20" depth="10" static-body visible="false"></a-box>     <!-- watertower -->
      <a-box position="-60 2 20" width="12" height="6" depth="12" static-body visible="false"></a-box>       <!-- church -->
      <a-box position="-15 3 20" width="25" height="8" depth="20" static-body visible="false"></a-box>       <!-- building -->
      <a-box position="0 1 -5" width="1" height="2" depth="1" static-body visible="false"></a-box>           <!-- cowboy -->

    </a-scene>
  </div>

  <!-- Δέντρα σε σχήμα κουλουριού -->
  <script>
    var scene1 = document.querySelector('a-scene');
    var treeCount = 10; 
    var innerRadius = 40;
    var outerRadius = 60;

    for (var i = 0; i < treeCount; i++) {
      var tree = document.createElement('a-entity');
      var angle = Math.random() * 2 * Math.PI;
      var radius = innerRadius + Math.random() * (outerRadius - innerRadius);
      var x = Math.cos(angle) * radius;
      var z = Math.sin(angle) * radius;
      var s = 0.1;
      var r = Math.random() * 180 - 90;

      tree.setAttribute('gltf-model', '#tree');
      tree.setAttribute('position', `${x} 0 ${z}`);
      tree.setAttribute('scale', `${s} ${s} ${s}`);
      tree.setAttribute('rotation', `0 ${r} 0`);
      tree.setAttribute('static-body', 'shape: mesh');
      tree.setAttribute('shadow', 'receive: false');

      scene1.appendChild(tree);
    }
  </script>

  <hr />
  <p><strong>Οδηγίες:</strong>...</p>
  <hr />
  <p><strong>Credits:</strong></p>
</body>
</html>

